/* === thoughts.html === */

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Thought Loop | Museum of Lost Thoughts</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>


        <!-- Place this just inside <body> on every page, topmost -->

    <nav id="main-nav" class="nav-glow">
        <div class="nav-left">
        <a href="index.html" class="nav-logo">üïØÔ∏è Lost Thoughts</a>
        <a href="hall.html">Hall of Echoes</a>
        <a href="exhibits.html">Thought Archives</a>
        <a href="thoughts.html">Thought Loop</a>
        </div>
        <button id="settings-btn" aria-label="Toggle Settings">‚öôÔ∏è</button>
    </nav>
    
    <div id="settings-panel" class="settings-hidden" aria-hidden="true">
        <h3>Settings</h3>
        <label>
        <input type="checkbox" id="toggle-darkmode" />
        Dark Mode
        </label>
        <label>
        <input type="checkbox" id="toggle-sound" checked />
        Ambient Sound
        </label>
        <label>
        Text Size:
        <select id="text-size-select">
            <option value="small">Small</option>
            <option value="medium" selected>Medium</option>
            <option value="large">Large</option>
        </select>
        </label>
        <label>
        Font Style:
        <select id="font-style-select">
            <option value="spectral" selected>Spectral (Serif)</option>
            <option value="unica">Unica One (Cursive)</option>
        </select>
        </label>
        <button id="close-settings">Close</button>
    </div>
    



  <div class="index-header fade-in">
    <h1>The Thought Loop</h1>
    <p>Keep scrolling. The thoughts will find you.</p>
  </div>

  <div id="thought-loop"></div>

  <script>
    const thoughts = [
      "You left the light on in a memory you can‚Äôt go back to.",
      "This moment is already forgotten somewhere.",
      "If you could refresh your brain, what would you lose?",
      "You‚Äôve been here before.",
      "Every thought you abandon still waits for you.",
      "Somewhere, a version of you still remembers.",
      "What if this is a cached version of reality?",
      "Time loops but the mind glitches.",
      "You‚Äôre reading this in a dream you forgot to wake up from."
    ];

    function addThought() {
      const div = document.createElement('div');
      div.className = 'thought';
      div.textContent = thoughts[Math.floor(Math.random() * thoughts.length)];
      document.getElementById('thought-loop').appendChild(div);
    }

    window.addEventListener('scroll', () => {
      if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 100) {
        addThought();
      }
    });

    // Start with 5 thoughts
    for (let i = 0; i < 5; i++) addThought();
  </script>
</body>
// Add this script at the bottom of each page, before </body>

<script>
  const settingsBtn = document.getElementById('settings-btn');
  const settingsPanel = document.getElementById('settings-panel');
  const closeSettingsBtn = document.getElementById('close-settings');

  // Toggles the settings panel
  settingsBtn.addEventListener('click', () => {
    const isHidden = settingsPanel.classList.contains('settings-hidden');
    if (isHidden) {
      settingsPanel.classList.remove('settings-hidden');
      settingsPanel.setAttribute('aria-hidden', 'false');
    } else {
      settingsPanel.classList.add('settings-hidden');
      settingsPanel.setAttribute('aria-hidden', 'true');
    }
  });

  closeSettingsBtn.addEventListener('click', () => {
    settingsPanel.classList.add('settings-hidden');
    settingsPanel.setAttribute('aria-hidden', 'true');
  });

  // Dark mode toggle
  const darkModeCheckbox = document.getElementById('toggle-darkmode');
  darkModeCheckbox.addEventListener('change', () => {
    if (darkModeCheckbox.checked) {
      document.body.classList.add('dark-mode');
    } else {
      document.body.classList.remove('dark-mode');
    }
  });

  // Ambient sound toggle (placeholder)
  const soundCheckbox = document.getElementById('toggle-sound');
  soundCheckbox.addEventListener('change', () => {
    if (soundCheckbox.checked) {
      // TODO: play ambient sound
      console.log('Ambient sound ON');
    } else {
      // TODO: stop ambient sound
      console.log('Ambient sound OFF');
    }
  });

  // Text size selector
  const textSizeSelect = document.getElementById('text-size-select');
  textSizeSelect.addEventListener('change', () => {
    document.body.style.fontSize = {
      small: '14px',
      medium: '16px',
      large: '18px'
    }[textSizeSelect.value];
  });

  // Font style selector
  const fontStyleSelect = document.getElementById('font-style-select');
  fontStyleSelect.addEventListener('change', () => {
    if (fontStyleSelect.value === 'unica') {
      document.body.style.fontFamily = "'Unica One', cursive";
    } else {
      document.body.style.fontFamily = "'Spectral', serif";
    }
  });
</script>

</html>
